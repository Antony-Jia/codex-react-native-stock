# 更新日志

## [0.1.0] - 2025-10-15

### 🎉 重大重构

#### 新增
- ✨ 全新的模块化项目结构
- 📁 按功能域划分的 API 路由模块
- 🔧 独立的核心配置模块（core）
- 🎯 清晰的服务层（services）
- 📝 完善的项目文档
  - `ARCHITECTURE.md` - 架构设计文档
  - `MIGRATION_GUIDE.md` - 迁移指南
  - `CHANGELOG.md` - 更新日志
- 🚀 `run.py` 开发服务器启动脚本
- 📋 `env.example` 配置文件模板

#### 变更
- 🔄 重新组织代码结构，采用分层架构
  - `api/` - API 路由层
  - `core/` - 核心配置和基础设施
  - `models/` - 数据模型层
  - `schemas/` - 数据验证层
  - `services/` - 业务逻辑层
- 📦 拆分 `main.py` 中的路由到各个功能模块
- 🔐 将认证相关代码拆分为 `core/security.py` 和 `api/auth.py`
- 📊 更新 `README.md` 包含完整的使用说明和项目结构

#### 删除
- ❌ 删除 `be/dashboard/` 目录
  - 原因：dashboard 应作为独立服务部署
  - 建议：使用 `fe/` 目录中的 React 前端项目

#### 技术改进
- 🏗️ 采用清晰的分层架构设计
- 🔌 更好的模块化和职责分离
- 📚 完善的代码注释和文档字符串
- 🎯 符合 FastAPI 最佳实践
- 🧪 便于单元测试的代码结构

### 🔄 兼容性

#### 完全兼容
- ✅ 所有 API 端点路径保持不变
- ✅ 数据库模型和表结构保持一致
- ✅ 配置方式和环境变量保持兼容
- ✅ 所有功能特性完全保留

#### 需要注意
- ⚠️ 如果代码中直接导入了 `stockaibe_be` 的内部模块，需要更新导入路径
- ⚠️ `dashboard/` 目录已删除，需使用独立前端项目

### 📊 代码统计

- 新增文件：20+ 个模块化文件
- 删除文件：7 个旧的扁平化文件
- 文档：3 个新增文档文件
- 代码行数：保持相似（重组而非重写）

### 🎯 下一步计划

- [ ] 添加单元测试
- [ ] 集成 Redis 实现分布式限流
- [ ] 添加 Alembic 数据库迁移支持
- [ ] 实现 Prometheus 指标导出
- [ ] Docker 容器化部署
- [ ] CI/CD 流程配置

---

## 版本说明

版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正
